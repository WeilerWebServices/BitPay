<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
    <link href='//fonts.googleapis.com/css?family=Ubuntu+Mono:700|Ubuntu:300,400,400italic,500' rel='stylesheet' type='text/css'>
    <meta name="msapplication-tap-highlight" content="no" />
    <title>BitPay Cordova SDK Tests</title>
  </head>
  <body>
    <script type="text/javascript" src="cordova.js"></script>
    <link rel="stylesheet" href="mocha.css" />
    <div id="mocha"></div>
    <script>
      document.addEventListener("deviceready", function(){

        function load(srcs){
          for (var i=0;i < srcs.length;i++){
            var xhrObj = new XMLHttpRequest();
            xhrObj.open('GET', srcs[i], false);
            xhrObj.send();
            var se = document.createElement('script');
            se.type = "text/javascript";
            se.text = xhrObj.responseText;
            document.getElementsByTagName('body')[0].appendChild(se);
          }
        }

        load(['chai.js', 'mocha.js']);
        mocha.setup('bdd');
        load([
          'test.config.js',
          'test.rpc-client.js',
          'test.client-id.js',
          'test.json-storage.js',
          'test.invoice.js',
          'test.bitpay.js',
          'test.request.js'
        ]);
        mocha.run();
      })
    </script>
  </body>
</html>
